{"ast":null,"code":"import _objectWithoutProperties from\"/Users/Apple/Desktop/namowokeventzilla/node_modules/@babel/runtime/helpers/esm/objectWithoutProperties\";import _regeneratorRuntime from\"/Users/Apple/Desktop/namowokeventzilla/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/Users/Apple/Desktop/namowokeventzilla/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _classCallCheck from\"/Users/Apple/Desktop/namowokeventzilla/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/Apple/Desktop/namowokeventzilla/node_modules/@babel/runtime/helpers/esm/createClass\";import _possibleConstructorReturn from\"/Users/Apple/Desktop/namowokeventzilla/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";import _getPrototypeOf from\"/Users/Apple/Desktop/namowokeventzilla/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";import _inherits from\"/Users/Apple/Desktop/namowokeventzilla/node_modules/@babel/runtime/helpers/esm/inherits\";import React,{Component}from'react';import Event from'./create_event/Event';import ProfileMenu from'./ProfileMenu/ProfileMenu';import HomePage from'./homepage/HomePage';import{Switch,Route,Redirect,withRouter,useParams,Router}from'react-router-dom';import SingleEvent from'./SingleEvent';import{baseUrl}from'../public/baseUrl';var Main=/*#__PURE__*/function(_Component){_inherits(Main,_Component);function Main(props){var _this;_classCallCheck(this,Main);_this=_possibleConstructorReturn(this,_getPrototypeOf(Main).call(this,props));_this.state={data:[]};return _this;}_createClass(Main,[{key:\"componentDidMount\",value:function(){var _componentDidMount=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var response,json;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return fetch(baseUrl+'/event/all');case 2:response=_context.sent;_context.next=5;return response.json();case 5:json=_context.sent;this.setState({data:json});case 7:case\"end\":return _context.stop();}}},_callee,this);}));function componentDidMount(){return _componentDidMount.apply(this,arguments);}return componentDidMount;}()},{key:\"render\",value:function render(){var EventId=function EventId(_ref){var match=_ref.match;return React.createElement(SingleEvent,{event:match.params.Id});};return React.createElement(\"div\",null,React.createElement(Switch,null,React.createElement(Route,{exact:true,path:\"/event\",component:function component(){return React.createElement(Event,null);}}),React.createElement(Route,{path:\"/homepage\",component:function component(){return React.createElement(HomePage,null);}}),React.createElement(Route,{path:\"/event/:Id\",component:EventId}),React.createElement(PrivateRoute,{path:\"/profile\"},React.createElement(\"div\",null,React.createElement(ProfileMenu,null)))),React.createElement(Route,{path:\"/\",component:function component(){return React.createElement(HomePage,null);}}));}}]);return Main;}(Component);function PrivateRoute(_ref2){var children=_ref2.children,rest=_objectWithoutProperties(_ref2,[\"children\"]);return React.createElement(Route,Object.assign({},rest,{render:function render(_ref3){var location=_ref3.location;if(localStorage.getItem('user')){return children;}else{return React.createElement(Redirect,{to:{pathname:\"/homepage\",state:{from:location}}});}}}));}export default Main;","map":{"version":3,"sources":["/Users/Apple/Desktop/namowokeventzilla/src/components/Main.js"],"names":["React","Component","Event","ProfileMenu","HomePage","Switch","Route","Redirect","withRouter","useParams","Router","SingleEvent","baseUrl","Main","props","state","data","fetch","response","json","setState","EventId","match","params","Id","PrivateRoute","children","rest","location","localStorage","getItem","pathname","from"],"mappings":"u+BAAA,MAAOA,CAAAA,KAAP,EAAeC,SAAf,KAA+B,OAA/B,CACA,MAAOC,CAAAA,KAAP,KAAkB,sBAAlB,CACA,MAAOC,CAAAA,WAAP,KAAwB,2BAAxB,CACA,MAAOC,CAAAA,QAAP,KAAqB,qBAArB,CACA,OAASC,MAAT,CAAiBC,KAAjB,CAAwBC,QAAxB,CAAkCC,UAAlC,CAA8CC,SAA9C,CAAwDC,MAAxD,KAAsE,kBAAtE,CACA,MAAOC,CAAAA,WAAP,KAAwB,eAAxB,CACA,OAAQC,OAAR,KAAsB,mBAAtB,C,GAEMC,CAAAA,I,8DACL,cAAYC,KAAZ,CAAkB,sCACjB,sEAAMA,KAAN,GACA,MAAKC,KAAL,CAAW,CACVC,IAAI,CAAC,EADK,CAAX,CAFiB,aAKjB,C,uTAGqBC,CAAAA,KAAK,CAACL,OAAO,CAAG,YAAX,C,QAApBM,Q,qCACgBA,CAAAA,QAAQ,CAACC,IAAT,E,QAAXA,I,eACN,KAAKC,QAAL,CAAc,CAAEJ,IAAI,CAAEG,IAAR,CAAd,E,+MAGE,CACP,GAAME,CAAAA,OAAO,CAAG,QAAVA,CAAAA,OAAU,MAAa,IAAXC,CAAAA,KAAW,MAAXA,KAAW,CACzB,MACE,qBAAC,WAAD,EAAa,KAAK,CAAEA,KAAK,CAACC,MAAN,CAAaC,EAAjC,EADF,CAGD,CAJH,CAMC,MACA,gCACA,oBAAC,MAAD,MACS,oBAAC,KAAD,EAAO,KAAK,KAAZ,CAAa,IAAI,CAAC,QAAlB,CAA2B,SAAS,CAAE,2BAAM,qBAAC,KAAD,MAAN,EAAtC,EADT,CAES,oBAAC,KAAD,EAAO,IAAI,CAAC,WAAZ,CAAwB,SAAS,CAAE,2BAAK,qBAAC,QAAD,MAAL,EAAnC,EAFT,CAGS,oBAAC,KAAD,EAAO,IAAI,CAAC,YAAZ,CAAyB,SAAS,CAAEH,OAApC,EAHT,CAIS,oBAAC,YAAD,EAAc,IAAI,CAAC,UAAnB,EACC,+BACC,oBAAC,WAAD,MADD,CADD,CAJT,CADA,CAYS,oBAAC,KAAD,EAAO,IAAI,CAAC,GAAZ,CAAgB,SAAS,CAAE,2BAAK,qBAAC,QAAD,MAAL,EAA3B,EAZT,CADA,CAgBD,C,kBArCiBpB,S,EAwCnB,QAASwB,CAAAA,YAAT,OAA4C,IAApBC,CAAAA,QAAoB,OAApBA,QAAoB,CAAPC,IAAO,8CAC3C,MACC,qBAAC,KAAD,kBACKA,IADL,EAEC,MAAM,CAAK,sBAAgB,IAAdC,CAAAA,QAAc,OAAdA,QAAc,CAC1B,GAAIC,YAAY,CAACC,OAAb,CAAqB,MAArB,CAAJ,CAAkC,CACjC,MAAOJ,CAAAA,QAAP,CACA,CAFD,IAEO,CACN,MAAQ,qBAAC,QAAD,EAAU,EAAE,CAAE,CAAEK,QAAQ,CAAC,WAAX,CAAwBhB,KAAK,CAAC,CAAEiB,IAAI,CAACJ,QAAP,CAA9B,CAAd,EAAR,CACA,CACD,CARF,GADD,CAYA,CAID,cAAef,CAAAA,IAAf","sourcesContent":["import React, {Component} from 'react';\nimport Event from './create_event/Event';\nimport ProfileMenu from './ProfileMenu/ProfileMenu'\nimport HomePage from './homepage/HomePage'\nimport { Switch, Route, Redirect, withRouter, useParams,Router } from 'react-router-dom';\nimport SingleEvent from './SingleEvent'\nimport {baseUrl} from '../public/baseUrl'\n\nclass Main extends Component{\n\tconstructor(props){\n\t\tsuper(props);\n\t\tthis.state={\n\t\t\tdata:[],\n\t\t}\n\t}\n\n\tasync componentDidMount(){\n\t\tconst response=await fetch(baseUrl + '/event/all')\n      \tconst json=await response.json();\n      \tthis.setState({ data: json });\n\t}\n\t\n\trender(){\n\t\tconst EventId = ({match}) => {\n      return(\n        <SingleEvent event={match.params.Id} />\n      );\n    }\n \n\t\t\treturn(\n\t\t\t<div>\n\t\t\t<Switch>\n           \t<Route exact path=\"/event\" component={() => <Event />} />\n           \t<Route path=\"/homepage\" component={()=> <HomePage /> } />\n           \t<Route path=\"/event/:Id\" component={EventId} />\n           \t<PrivateRoute path=\"/profile\">\n           \t\t<div>\n           \t\t\t<ProfileMenu />\n           \t\t</div>\n           \t</PrivateRoute>\n\n           \t</Switch>\n           \t<Route path=\"/\" component={()=> <HomePage /> } />\n\t\t\t</div>\n\t\t)\n\t}\n}\n\nfunction PrivateRoute({ children, ...rest}) {\n\treturn(\n\t\t<Route\n\t\t\t{...rest}\n\t\t\trender = { ({location}) => {\n\t\t\t\tif (localStorage.getItem('user')) {\n\t\t\t\t\treturn children\n\t\t\t\t} else {\n\t\t\t\t\treturn (<Redirect to={{ pathname:\"/homepage\", state:{ from:location} }}/>)\n\t\t\t\t}\n\t\t\t}}\n\t\t/>\n\t\t)\n}\n\n\n\nexport default Main;"]},"metadata":{},"sourceType":"module"}